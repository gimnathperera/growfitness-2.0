#!/bin/bash

# Check if we are in the root of the project (simple check for package.json)
if [ ! -f "package.json" ]; then
  echo "Error: This script should be run from the root of the project."
  exit 1
fi

echo "Scanning for node_modules directories to remove..."

# Find and remove node_modules directories recursively
# -name "node_modules": look for directories named node_modules
# -type d: ensure it is a directory
# -prune: do not descend into node_modules directories themselves
# -exec rm -rf '{}' +: execute rm -rf on the found directories
find . -name "node_modules" -type d -prune -exec echo "Removing {}" \; -exec rm -rf '{}' +

echo "âœ… All node_modules directories have been removed."
